export const ArrayProxy=function(t){return new Proxy(t,{set(t,e,n,r){if(e in t)Reflect.set(t,e,n,r);else for(let r of t)r[e]=n},get(t,e,n){if(e in t){let n=t[e];return"function"==typeof n?n.bind(t):n}{let n=[],r=t[0];if(r&&"function"==typeof r[e])return(...n)=>{for(let r of t)r[e](...n)};for(let r of t){let o=r[e];n.push("function"==typeof o?o.bind(t):o)}return ArrayProxy(n)}}})};export const ErgoElement=function(t){return"string"==typeof t&&document.querySelector(t),new Proxy((function(e){let n=t.querySelectorAll(e);return 1==n.length?n[0]:0===n.length?null:ArrayProxy(n)}),{get(e,n,r){let o=t[n];return"self"===n?t:"function"==typeof o?o.bind(t):n in t?t[n]:(n.startsWith("$")&&(n=n.slice(1)),e(n))},apply:(t,e,n)=>t.apply(e,n)})};